<html>
<head>
	<script LANGUAGE="JavaScript" SRC="history.js"></script>
	<script LANGUAGE="JavaScript" SRC="storeWrapper.js"></script>
	<script LANGUAGE="JavaScript" SRC="stemmer.js"></script>
	<script LANGUAGE="JavaScript" SRC="helperFunctions.js"></script>
	<script LANGUAGE="JavaScript" SRC="seedrandom.js"></script>
	
	<script>
		var log = "Starting.. <br>";
		var detailsPage;
		chrome.tabs.create({url:"SuggestionsDetails.html"}, function(tab) {});
		
		var hist;
		function run(){
			hist = new History({});
			// 1. Load existing state from disk.
			hist.loadParametersFromDisk(function(){
				detailsPage = chrome.extension.getViews()[1];
				// 2. Load (+process&save) yet unprocessed URLs from history.
				hist.loadUnprocessedHistoryEntries(function(){
					hist.historyLoaded();
				});
			});
		}
	</script>
</head>
<body onload="run();">
</body>
</html>